<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            http-equiv="Content-Security-Policy"
            content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; connect-src 'self'; img-src 'self' data:; worker-src 'self' blob:;"
        />
        <title>Western Australia 3D Sites</title>
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <a href="#navigationControls" class="skip-link">Skip to Navigation Controls</a>
        <div id="loadingIndicator" role="status" aria-live="polite">
            <div class="loading-content">
                <p id="loadingText">Loading...</p>
                <div class="progress-bar-container">
                    <div id="progressBar" class="progress-bar"></div>
                </div>
            </div>
        </div>
        <canvas id="webglCanvas" role="img" aria-label="3D View of Western Australia Sites" tabindex="0"></canvas>
        <div id="titleOverlay">
            <h1>Western Australia 3D Sites Viewer</h1>
            <h2 id="currentSiteTitle" aria-live="polite"></h2>
        </div>
        <nav id="navigationControls" aria-label="Site Navigation"></nav>
        <div id="siteDescription" aria-live="polite" tabindex="-1"></div>

        <button id="helpToggleBtn" aria-label="Show Controls" aria-controls="helpModal">?</button>

        <div id="helpModal" role="dialog" aria-labelledby="helpTitle" aria-modal="true" class="modal-backdrop" hidden>
            <div class="modal-content">
                <h2 id="helpTitle">Navigation Controls</h2>
                <ul class="control-list">
                    <li><span class="key">←</span> <span class="key">→</span> <span>Previous / Next Site</span></li>
                    <li><span class="key">1</span> ... <span class="key">9</span> <span>Jump to Specific Site</span></li>
                    <li><span class="key">Mouse Drag</span> <span>Rotate View</span></li>
                    <li><span class="key">Scroll</span> <span>Zoom In / Out</span></li>
                </ul>
                <button id="closeHelpBtn" class="primary-btn">Close</button>
            </div>
        </div>

        <noscript>
            <div class="noscript-overlay">
                <p>
                    This application requires JavaScript to function. Please enable JavaScript in your browser settings.
                </p>
            </div>
        </noscript>

        <script type="module" src="/main.js"></script>
    </body>
</html>
